<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h3 style="text-align:center;">mall/mallList</h3>
<div th:insert ="~{fragment :: header}"></div>
<table border="1" width="400" style="text-align:center; border-collapse:collapse;">
    <!-- 주문자 정보 -->
    <tr>
        <th colspan="5" class="order-info">
            주문자 :
            <span th:text="${session.loginInfo.name}"></span>
            (<span th:text="${session.loginInfo.id}"></span>)
        </th>
    </tr>

    <!-- 헤더 -->
    <tr>
        <th>상품번호</th>
        <th>상품명</th>
        <th>주문수량</th>
        <th>단가</th>
        <th>금액</th>
    </tr>

    <!-- 상품 목록 반복 -->
    <tr th:each="product : ${shopLists}">
        <td th:text="${product.pnum}"></td>
        <td th:text="${product.pname}"></td>
        <td th:text="${product.qty}"></td>
        <td th:text="${#numbers.formatDecimal(product.price,0,'COMMA',0,'POINT')}"></td>
        <td th:text="${#numbers.formatDecimal(product.amount,0,'COMMA',0,'POINT')}"></td>
    </tr>

    <!-- 총 합계 -->
    <tr class="total-row">
        <td colspan="2">총 합계</td>
        <td colspan="3"
            th:text="${#numbers.formatDecimal(totalAmount, 0, 'COMMA', 0, 'POINT')}"></td>
    </tr>
</table>

<!-- 액션 버튼 -->
<div class="actions">
    <a th:href="@{/calculate.mall}">결제하기</a> |
    <a th:href="@{/plist.prd}">추가 주문</a>
</div>

</body>
</html>